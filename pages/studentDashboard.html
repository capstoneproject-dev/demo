<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Organization Dashboard</title>
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- STYLESHEET REFERENCE -->
    <link rel="stylesheet" href="../assets/css/studentDashboard.css">
</head>
<body>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="logo-area">
            <i class="fa-solid fa-graduation-cap logo-icon"></i>
            <span class="logo-text">StudentHub</span>
        </div>

        <ul class="nav-menu">
            <li class="nav-item">
                <a href="#" class="nav-link active" onclick="navigate('dashboard', this)">
                    <i class="fa-solid fa-table-columns nav-icon"></i>
                    <span class="nav-label">Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="navigate('organizations', this)">
                    <i class="fa-solid fa-people-group nav-icon"></i>
                    <span class="nav-label">Organizations</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="navigate('services', this)">
                    <i class="fa-solid fa-basket-shopping nav-icon"></i>
                    <span class="nav-label">Services</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="navigate('profile', this)">
                    <i class="fa-regular fa-id-card nav-icon"></i>
                    <span class="nav-label">Profile</span>
                </a>
            </li>
        </ul>

        <div class="sidebar-footer">
            <button class="theme-toggle" id="themeBtn">
                <i class="fa-solid fa-moon nav-icon"></i>
                <span class="nav-label">Dark Mode</span>
            </button>
            <div class="nav-item">
                    <a href="#" class="logout-btn" onclick="handleLogout(event)">
                    <i class="fa-solid fa-arrow-right-from-bracket nav-icon"></i>
                    <span class="nav-label">Logout</span>
                </a>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
        
        <!-- Top Header -->
        <header>
            <div class="header-title">
                <h1 id="page-title">Dashboard</h1>
                <p id="current-date">Fetching date...</p>
            </div>

            <div class="header-controls">
                <!-- Mobile Theme Toggle -->
                <button class="icon-btn mobile-only" onclick="toggleThemeMobile()">
                    <i class="fa-solid fa-moon" id="mobile-theme-icon"></i>
                </button>
                
                <!-- Mobile Logout -->
                <a href="#" class="icon-btn mobile-only logout-icon" onclick="handleLogout(event)">
                    <i class="fa-solid fa-arrow-right-from-bracket"></i>
                </a>

                <!-- User Profile -->
                <div class="user-profile" onclick="navigate('profile')">
                    <div class="user-profile-box">
                        <img src="https://picsum.photos/seed/student1/100/100" alt="Student" class="avatar">
                        <div class="user-info">
                            <span>Juan Dela Cruz</span>
                            <small>BSCS - Year 3</small>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- DASHBOARD VIEW -->
        <div id="dashboard" class="section-view active">
            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>4</h3>
                        <p>Joined Orgs</p>
                    </div>
                    <div class="stat-icon"><i class="fa-solid fa-users"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>3</h3>
                        <p>Upcoming Events</p>
                    </div>
                    <div class="stat-icon"><i class="fa-regular fa-calendar-check"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>12</h3>
                        <p>Services Availed</p>
                    </div>
                    <div class="stat-icon"><i class="fa-solid fa-receipt"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>98%</h3>
                        <p>Attendance</p>
                    </div>
                    <div class="stat-icon"><i class="fa-solid fa-chart-pie"></i></div>
                </div>
            </div>

            <div class="content-row">
                <!-- Recent Announcements -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Latest Announcements</div>
                        <a href="#" style="color:var(--primary); text-decoration:none; font-size:0.85rem;" onclick="navigate('organizations')">View All</a>
                    </div>
                    <div id="announcements-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Quick Activity -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Recent Activity</div>
                    </div>
                    <div class="list-item">
                        <div class="item-icon"><i class="fa-solid fa-print"></i></div>
                        <div class="item-content">
                            <h4>Printing Service</h4>
                            <p>Availed 5 pages</p>
                        </div>
                        <span class="date-badge">2h ago</span>
                    </div>
                    <div class="list-item">
                        <div class="item-icon"><i class="fa-solid fa-user-plus"></i></div>
                        <div class="item-content">
                            <h4>Membership</h4>
                            <p>Applied to ELITECH</p>
                        </div>
                        <span class="date-badge">1d ago</span>
                    </div>
                </div>
            </div>

            <!-- Upcoming Events Preview -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Upcoming Events</div>
                </div>
                <div class="content-row" style="margin-bottom: 0; gap: 20px;">
                     <!-- Populated by JS -->
                     <div id="events-preview-container" style="display: contents;"></div>
                </div>
            </div>
        </div>

        <!-- ORGANIZATIONS VIEW -->
        <div id="organizations" class="section-view">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchOrgTab('about', this)">About</button>
                <button class="tab-btn" onclick="switchOrgTab('membership', this)">Membership</button>
                <button class="tab-btn" onclick="switchOrgTab('events', this)">Events</button>
                <button class="tab-btn" onclick="switchOrgTab('contacts', this)">Contacts</button>
            </div>

            <div id="tab-content" class="card">
                <!-- Content injected via JS -->
            </div>
        </div>

        <!-- SERVICES VIEW -->
        <div id="services" class="section-view">
            <div class="services-search">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="serviceSearch" placeholder="Search for a service (e.g., Printing, Calculator, Locker)..." onkeyup="filterServices()">
            </div>
            <div class="services-grid" id="servicesGrid">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- PROFILE VIEW -->
        <div id="profile" class="section-view">
            <div class="card" style="margin-bottom: 24px;">
                <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                    <img src="https://picsum.photos/seed/student1/150/150" alt="Profile" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid var(--primary);">
                    <div>
                        <h2 style="margin-bottom: 5px;">Juan Dela Cruz</h2>
                        <p style="color: var(--muted);">Student ID: 2021-12345</p>
                        <p style="color: var(--muted);">Course: BS Computer Science</p>
                        <div style="margin-top: 10px; display: flex; gap: 10px;">
                            <button style="padding: 8px 16px; border-radius: var(--radius-sm); border: 1px solid var(--border); background: var(--panel); color: var(--text); cursor: pointer;">Edit Profile</button>
                            <button style="padding: 8px 16px; border-radius: var(--radius-sm); border: 1px solid var(--border); background: var(--panel); color: var(--text); cursor: pointer;">Change Password</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Overall Transaction History</div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Service/Item</th>
                                <th>Organization</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="transaction-table">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </main>

    <!-- JAVASCRIPT REFERENCE -->
    <script src="../assets/js/studentDashboard.js"></script>
</body>
</html>