<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Organization Dashboard</title>
    
    <!-- CSS Reference -->
    <link rel="stylesheet" href="../assets/css/studentDashboard.css">
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="logo-area">
            <i class="fa-solid fa-graduation-cap logo-icon"></i>
            <span class="logo-text">StudentHub</span>
        </div>

        <ul class="nav-menu">
            <li class="nav-item">
                <a href="#" class="nav-link active" onclick="navigate('dashboard', this)">
                    <i class="fa-solid fa-table-columns nav-icon"></i>
                    <span class="nav-label">Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="navigate('organizations', this)">
                    <i class="fa-solid fa-people-group nav-icon"></i>
                    <span class="nav-label">Organizations</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="navigate('services', this)">
                    <i class="fa-solid fa-basket-shopping nav-icon"></i>
                    <span class="nav-label">Services</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" onclick="navigate('profile', this)">
                    <i class="fa-regular fa-id-card nav-icon"></i>
                    <span class="nav-label">Profile</span>
                </a>
            </li>
        </ul>

        <div class="sidebar-footer">
            <button class="theme-toggle" id="themeBtn">
                <i class="fa-solid fa-moon nav-icon"></i>
                <span class="nav-label">Dark Mode</span>
            </button>
            <div class="nav-item">
                <a href="#" class="logout-btn" id="logoutBtnStudent">
                    <i class="fa-solid fa-arrow-right-from-bracket nav-icon"></i>
                    <span class="nav-label">Logout</span>
                </a>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
        
        <!-- Top Header -->
        <header>
            <div class="header-title">
                <h1 id="page-title">Dashboard</h1>
                <p id="current-date">Fetching date...</p>
            </div>
            <div class="user-profile">
                <!-- Random Avatar Seed -->
                <img src="https://picsum.photos/seed/student1/100/100" alt="Student" class="avatar">
                <div class="user-info">
                    <span>Juan Dela Cruz</span>
                    <small>BSCS - Year 3</small>
                </div>
            </div>
        </header>

        <!-- DASHBOARD VIEW -->
        <div id="dashboard" class="section-view active">
            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>4</h3>
                        <p>Joined Orgs</p>
                    </div>
                    <div class="stat-icon"><i class="fa-solid fa-users"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>3</h3>
                        <p>Upcoming Events</p>
                    </div>
                    <div class="stat-icon"><i class="fa-regular fa-calendar-check"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>12</h3>
                        <p>Services Availed</p>
                    </div>
                    <div class="stat-icon"><i class="fa-solid fa-receipt"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-info">
                        <h3>98%</h3>
                        <p>Attendance</p>
                    </div>
                    <div class="stat-icon"><i class="fa-solid fa-chart-pie"></i></div>
                </div>
            </div>

            <div class="content-row">
                <!-- Recent Announcements -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Latest Announcements</div>
                        <a href="#" class="link-cta" onclick="navigate('organizations')">View All</a>
                    </div>
                    <div id="announcements-list">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Quick Activity -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Recent Activity</div>
                    </div>
                    <div class="list-item">
                        <div class="item-icon"><i class="fa-solid fa-print"></i></div>
                        <div class="item-content">
                            <h4>Printing Service</h4>
                            <p>Availed 5 pages</p>
                        </div>
                        <span class="date-badge">2h ago</span>
                    </div>
                    <div class="list-item">
                        <div class="item-icon"><i class="fa-solid fa-user-plus"></i></div>
                        <div class="item-content">
                            <h4>Membership</h4>
                            <p>Applied to ELITECH</p>
                        </div>
                        <span class="date-badge">1d ago</span>
                    </div>
                </div>
            </div>

            <!-- Upcoming Events Preview -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Upcoming Events</div>
                </div>
                <div class="content-row" style="margin-bottom: 0; gap: 20px;">
                     <!-- Populated by JS -->
                     <div id="events-preview-container" style="display: contents;"></div>
                </div>
            </div>
        </div>

        <!-- ORGANIZATIONS VIEW -->
        <div id="organizations" class="section-view">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchOrgTab('about', this)">About</button>
                <button class="tab-btn" onclick="switchOrgTab('membership', this)">Membership</button>
                <button class="tab-btn" onclick="switchOrgTab('events', this)">Events</button>
                <button class="tab-btn" onclick="switchOrgTab('contacts', this)">Contacts</button>
            </div>

            <div id="tab-content" class="card">
                <!-- Content injected via JS -->
            </div>
        </div>

        <!-- SERVICES VIEW -->
        <div id="services" class="section-view">
            <div class="services-search">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="serviceSearch" placeholder="Search for a service (e.g., Printing, Calculator, Locker)..." onkeyup="filterServices()">
            </div>
            <div class="services-grid" id="servicesGrid">
                <!-- Populated by JS -->
            </div>
        </div>

        <!-- PROFILE VIEW -->
        <div id="profile" class="section-view">
            <div class="card" style="margin-bottom: 24px;">
                <div class="profile-header">
                    <img src="https://picsum.photos/seed/student1/150/150" alt="Profile" class="profile-img">
                    <div class="profile-details">
                        <h2>Juan Dela Cruz</h2>
                        <p>Student ID: 2021-12345</p>
                        <p>Course: BS Computer Science</p>
                        <div class="profile-actions">
                            <button class="btn-outline">Edit Profile</button>
                            <button class="btn-outline">Change Password</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Overall Transaction History</div>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Service/Item</th>
                                <th>Organization</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="transaction-table">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </main>

        <script>
        // Logout button navigates to login.html
        document.addEventListener('DOMContentLoaded', function() {
            var logoutBtn = document.getElementById('logoutBtnStudent');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.location.href = 'login.html';
                });
            }
        });
        </script>
        <!-- JS Reference -->
        <script src="../assets/js/studentDashboard.js"></script>
</body>
</html>